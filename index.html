<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RandomDonate</title>
  <meta name="description" content="RandomDonate is a platform where you can donate crypto anonymously to people in need. Youâ€™ll never know who you helped â€” and thatâ€™s the point."/>

  <link rel="manifest" href="manifest.json"/>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@200;400;600&display=swap" rel="stylesheet"/>
  <!-- Coinbase SDK (optional, but not required for direct link) -->
  <script src="https://commerce.coinbase.com/v1/checkout.js" async></script>

  <style>
    /* Gating styles */
    #mainContent { display: none; }
    #blockMessage { display: block; text-align: center; padding: 60px 20px; color: #aaa; font-style: italic; }

    /* Base styles */
    body { margin: 0; padding: 0; background: #000; color: #fff; font-family: 'Work Sans', sans-serif; }
    header, footer { text-align: center; padding: 20px; color: #666; }
    .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; text-align: center; }
    h1 { font-size: 2rem; font-weight: 200; }
    .intro { font-style: italic; color: #aaa; margin: 30px 0; font-size: 1.2rem; }

    /* Invite form */
    #inviteForm input { padding: 10px; border-radius: 4px; border: none; width: 200px; }
    #inviteForm button { padding: 10px 20px; margin-left: 10px; background: #fff; color: #000; border: none; border-radius: 4px; cursor: pointer; }
    #inviteError { display: none; color: #f66; margin-top: 10px; }

    /* Donate button ripple */
    .cta-button { background: #fff; color: #000; padding: 14px 28px; font-weight: 600; border-radius: 4px; cursor: pointer; position: relative; overflow: hidden; margin: 30px auto; display: inline-block; }
    .cta-button:hover { background: #ccc; }
    .cta-button::after { content: ''; position: absolute; border-radius: 50%; width: 100px; height: 100px; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); background: rgba(0,0,0,0.2); animation: ripple 0.6s linear; pointer-events: none; }
    @keyframes ripple { to { transform: translate(-50%, -50%) scale(4); opacity: 0; } }

    /* Glow effect */
    @keyframes screenGlow { from{background:rgba(255,255,255,0.1);} to{background:transparent;} }
    body.glow-effect::before { content: ''; position: fixed; inset: 0; background: rgba(255,255,255,0.05); z-index: 999; animation: screenGlow 0.4s ease-out; pointer-events: none; }

    /* Sections */
    .section { background: #111; padding: 30px; border-radius: 8px; margin-top: 60px; text-align: left; }
    .section h2 { font-size: 1.4rem; font-weight: 400; color: #fff; margin-bottom: 20px; }
    .section ul { list-style: disc; padding-left: 20px; line-height: 1.6; color: #ccc; }
    .wallet { background: #222; color: #0f0; padding: 15px; border-radius: 4px; word-break: break-all; margin: 10px auto; width: fit-content; }
    img.qr { display: block; margin: 10px auto; max-width: 160px; }
    .report h2, .report p, .crypto-box h2, .crypto-box p { text-align: center; }

    /* Ripple text */
    #rippleMessage.animate { animation: fadeSlide 0.8s ease-in-out; }
    @keyframes fadeSlide { 0%{opacity:0;transform:translateY(-10px);}50%{opacity:1;transform:translateY(2px);}100%{opacity:1;transform:translateY(0);} }
  </style>
</head>
<body>

  <!-- BLOCKED VIEW with invite form -->
  <div id="blockMessage">
    <form id="inviteForm">
      <input id="inviteCodeInput" type="text" placeholder="Enter invite code" />
      <button id="inviteSubmit" type="button">Enter</button>
      <div id="inviteError">Invalid code. Request one here.</div>
    </form>
  </div>

  <!-- GATED CONTENT -->
  <div id="mainContent">
    <header>
      <img src="logo.png" alt="RandomDonate Logo" style="width:180px; margin-bottom:10px;" />
      <h1>Give. Let go. Walk away.</h1>
      <p id="rippleMessage" style="color:#aaa; margin-top:10px;">&nbsp;</p>
    </header>

    <audio id="donateSound" src="https://assets.mixkit.co/sfx/preview/mixkit-light-bulb-on-1465.mp3" preload="auto"></audio>

    <div class="container">
      <p class="intro">What if you gave... and never knew what it became?</p>

      <!-- Donate CTA -->
      <p style="color:#bbb; font-size:0.95rem;">Easiest way to donate â€” instant & secure via Coinbase</p>
      <button class="cta-button" onclick="
        window.open('https://commerce.coinbase.com/checkout/2a1dcfab-b7b8-4568-b4ce-c0d0ff1db2a2','_blank');
        showThankYou();
      ">Donate Now</button>

      <!-- Recent Ripples -->
      <div class="section ripples">
        <h2>Recent Ripples</h2>
        <ul>
          <li>ðŸ’§ Someone in Lagos just received $5 for food.</li>
          <li>ðŸ’§ An artist in Beirut received $12 for rent.</li>
          <li>ðŸ’§ A single mom in Manila received $8 for diapers.</li>
        </ul>
      </div>

      <!-- How It Works -->
      <div class="section how-it-works">
        <h2>How It Works</h2>
        <ul>
          <li>You donate any amount in crypto â€” $1, $5, or more.</li>
          <li>Someone in need gets that money â€” rent, food, medicine.</li>
          <li>You donâ€™t choose who. And youâ€™ll never know who it went to.</li>
          <li>We log every donation anonymously and share glimpses of the outcomes.</li>
        </ul>
      </div>

      <!-- Transparency, FAQ, crypto-box, report sections remain unchanged -->
    </div>

    <footer>Â© 2025 RandomDonate â€” Built with trust. Powered by kindness.</footer>
  </div>

  <script>
    const validCodes = ['blueflower','wave9','echo123'];
    document.getElementById('inviteSubmit').addEventListener('click', () => {
      const code = document.getElementById('inviteCodeInput').value.trim();
      if (validCodes.includes(code)) {
        document.getElementById('blockMessage').style.display = 'none';
        document.getElementById('mainContent').style.display = 'block';
        document.getElementById('rippleMessage').textContent = 'ðŸ’§ Welcome, giver.';
      } else {
        document.getElementById('inviteError').style.display = 'block';
      }
    });

    let rippleCount = 0;
    function showThankYou() {
      document.getElementById('donateSound').play();
      document.body.classList.add('glow-effect');
      setTimeout(() => document.body.classList.remove('glow-effect'), 400);
      const el = document.getElementById('rippleMessage');
      el.innerHTML = 'ðŸ’™ Thank you for your donation.';
      el.classList.add('animate');
      setTimeout(() => {
        el.textContent = `ðŸ’§ Total donations: ${++rippleCount}`;
        el.classList.remove('animate');
      }, 3000);
    }
  </script>
</body>
</html>
